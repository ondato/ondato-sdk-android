# Ondato Android SDK

## Table of contents

* [Overview](#overview)
* [Getting logs](#getting-logs)
* [Customizing SDK](#customizing-sdk)

## Overview

This SDK provides a drop-in set of screens and tools for Android applications to allow capturing of identity documents and face photos/live videos for the purpose of identity verification. The SDK offers a number of benefits to help you create the best onboarding/identity verification experience for your customers:

- Carefully designed UI to guide your customers through the entire photo/video-capturing process
- Modular design to help you seamlessly integrate the photo/video-capturing process into your application flow
- Advanced image quality detection technology to ensure the quality of the captured images meets the requirement of the Ondato identity verification process, guaranteeing the best success rate
- Direct image upload to the Ondato service, to simplify integration\*

\* Note: the SDK is only responsible for capturing and uploading photos/videos. You still need to access the [Ondato API](https://ondato.atlassian.net/wiki/spaces/PUB/pages/2334359560/Customer+onboarding+KYC+mobile+SDK+integration) to create and manage checks.

The SDK supports from Android 5.0 Lollipop (API level 21) and above.

### 1. Adding the SDK dependencies

Add repository to project level build.gradle file:

```
allprojects {
    repositories {
        jcenter()
        maven { url "https://raw.githubusercontent.com/ondato/ondato-sdk-android/main/repos/" }
        maven { url 'https://jitpack.io' }
    }
}
```

Add SDK dependency to module level build.gradle file:

```
dependencies {
    implementation "com.kyc.ondato:sdk:2.6.4"
}
```         

Since version 2.6.0, the NFC reader and screen recorder modules were separated from the core SDK package, meaning that these functionalities will not work if not imported explicitly. If you want to use the following modules, add these lines to your module level build.gradle file:

- `implementation "com.kyc.ondato:recorder:2.6.4"` - for screen recording
- `implementation "com.kyc.ondato:nfc-reader:2.6.4"` - for NFC tag scanning


### 2. Creating the SDK configuration

```kotlin
    val config = OndatoConfig.Builder()
        .setIdentityVerificationId("idvId") //should by generated by user and passed here
        .showStartScreen(true) //default is true
        .setMode(OndatoConfig.Mode.TEST) //default is TEST
        .setLanguage(Language.English) // default is English, supports System (is in English if not translated)
        .setLoadingScreenProvider { CustomLoadingFragment() }
        .setStartScreenProvider { callback -> CustomStartFragment.newInstance(callback) }
        .setSuccessScreenProvider { callback -> CustomSuccessFragment.newInstance(callback) }
        .build()

```

In case, Passive Liveness check is configured, please, contact Ondato support team support@ondato.com to check if your account is configured accordingly.


### 3. Starting the flow

```kotlin
Ondato.init(config)
Ondato.startIdentification(applicationContext, object : Ondato.ResultListener {
    override fun onSuccess(identificationId: String?) {
        //Success
    }

    override fun onFailure(identificationId: String?, error: OndatoError) {
        //Failure
    }
})
```

Congratulations! You have successfully started the flow.

## Getting logs

To get Ondato logs as `String` use `Ondato.getLogs()`.

## Customizing SDK

### 1. Loading Screen
You can override the default fragment used to show loading state by setting `.setLoadingScreenProvider()` when building config.

### 2. Start Screen
You can override the default fragment used to start the verification process by setting `.setStartScreenProvider()` with your own implementation of `StartScreenProvider`. Note that, when custom start screen is used, it is up to you to start the verification process. Custom start fragment can start it by calling provided callback.

### 3. Success Screen
You can define custom success screen which is shown when user data is successfully submited. Set it using `.setsetSuccessScreenProvider()` and pass your `SuccessScreenProvider` implementation. When success screen is overriden is up to you to call the provided callback, so the process can continue.

### 4. Localisation
Ondato Android SDK already comes with out-of-the-box translations for the following locales:
- English (en) ğŸ‡¬ğŸ‡§
- Lithuanian (lt) ğŸ‡±ğŸ‡¹
- German (de) ğŸ‡©ğŸ‡ª
- Latvian (lv) ğŸ‡±ğŸ‡»
- Estonian (et) ğŸ‡ªğŸ‡ª
- Russian (ru) ğŸ‡·ğŸ‡º
- Albanian (sq) ğŸ‡¦ğŸ‡±
- Bulgarian (bg) ğŸ‡§ğŸ‡¬
- Spanish (es) ğŸ‡ªğŸ‡¸
- French (fr) ğŸ‡«ğŸ‡·
- Italian (it) ğŸ‡®ğŸ‡¹
- Romanian (ro) ğŸ‡·ğŸ‡´
- Greek (el) ğŸ‡¬ğŸ‡·
- Dutch (nl) ğŸ‡³ğŸ‡±
- System âš™ï¸ (if device language is not translated, everything will be in English)

You can also **provide your own translations** by overriding [Ondato's string keys](https://github.com/ondato/ondato-sdk-android/blob/main/strings/strings.xml) in your `strings.xml`.

### 5. Theme Customization
In order to enhance the user experience on the transition between your application and the SDK, you can provide some customization by defining certain colors inside your own colors.xml file:

    <!-- Ondato's Status Bar -->
    <color name="ondatoColorPrimaryDark">#fd5a28</color>
    
    <!-- Ondato's Primary and Accent Colors -->
    <color name="ondatoColorPrimary">#fd5a28</color> 
    <color name="ondatoColorAccent">#FF5A28</color>

    <!-- Ondato's Text Colors -->
    <color name="ondatoTextColor">#000000</color>
    <color name="ondatoSecondaryTextColor">#244D50</color>
    
    <!-- Ondato's Primary Button with Gradient colors -->
    <color name="ondatoColorButton">#fd5a28</color>
    <color name="ondatoColorButtonFocusedStart">#fd5a28</color>
    <color name="ondatoColorButtonFocusedCenter">#FF8000</color>
    <color name="ondatoColorButtonFocusedEnd">#FF9700</color>
    <color name="ondatoColorButtonText">#ffffff</color>
    
    <!-- Ondato's Outlined Button Colors -->
    <color name="ondatoOutlinedButtonColor">#fd5a28</color>
    <color name="ondatoOutlinedButtonTextColor">#fd5a28</color>

    <color name="ondatoColorBackground">#ffffff</color>
    
    <!-- Ondato's Illustration Colors -->
    <color name="ondatoIconColor">#fd5a28</color>
    
    <!-- Ondato's Active Liveness Screen Colors -->
    <color name="ondatoActiveLivenessOvalProgressColor">#FF5A28</color>
    <color name="ondatoActiveLivenessOvalProgressColorSecondary">#FF5A28</color>
    <color name="ondatoActiveLivenessResultActivityIndicatorColor">#FF5A28</color>
    <color name="ondatoActiveLivenessResultAnimationBackgroundColor">#FF5A28</color>
    <color name="ondatoActiveLivenessResultUploadProgressColor">#FF5A28</color>
    <color name="ondatoActiveLivenessResultAnimationForegroundColor">#FF5A28</color>
    <color name="ondatoActiveLivenessResultUploadProgressTrackColor">#FF5A28</color>
    <color name="ondatoActiveLivenessResultForegroundColor">#FF5A28</color>
    <color name="ondatoActiveLivenessCameraFilter">#fff</color>
    
     <!-- Used for Active Liveness Screen Buttons -->
    <color name="ondatoDisabledButtonColor">#FAB2A5</color>
    <color name="ondatoHighlightButtonColor">#b02e16</color>

    <!-- Ondato's Error Colors -->
    <color name="ondatoColorErrorBg">#fd5a28</color>
    <color name="ondatoColorErrorText">#ffffff</color>
    
    <!-- Other -->
    <color name="ondatoColorSeparatorColor">#e5e6e7</color>
    <color name="ondatoColorAlmostTransparent">#70ffffff</color>
    <color name="ondatoColorAlmostTransparent2">#CCFFFFFF</color>
    <color name="ondatoColorLanguagesBorder">#E2E2E2</color>>
    <color name="ondatoColorCameraFilter">#65000000</color>
    <color name="ondatoInputTextBorderColor">#808080</color>
